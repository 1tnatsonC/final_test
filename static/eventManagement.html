<!-- Chan Hou Ting Constant (21034774d) & Cheung Kwan Yui (21088966D)-->
<!DOCTYPE html>
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <title>Train Ticket Selling System - Event Managment</title>
    <script src="scripts\jquery-3.7.1.min.js"></script>
    <script>
    function CREATE_EVENT(event) {
      //document.getElementById('createEvent').addEventListener('click', async (event) => {
      event.preventDefault(); // Prevent the form from submitting normall
      document.getElementById("eventIdInput").value = "";
      document.getElementById("locInput").value = "";
      document.getElementById("timeInput").value = "";
      document.getElementById("priceInput").value = "";
        };
      //};
    </script>
    <script>
      fetch('/auth/me')
        .then((response) => {
          if (response.ok) {
            return response.json();
          } else {
            throw new Error('Please login');
            }
          })
          .then((data) => {
          const greetingElement = document.getElementById('greeting');
          greetingElement.textContent = `Welcome back! ${data.user.nickname}`;
        })
    </script>

</head>
<body>
    <header class="text-bg-dark p-3 text-center fw-bold fs-3">
      Train Ticket Selling System
    <h6 id="greeting" class="d-flex justify-content-end"></h6>
  </header>

    <nav class="navbar navbar-expand-lg bg-body-tertiary fw-bold">
        <div class="container-fluid">
          
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          
      <div class="collapse navbar-collapse justify-content-center" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-link text-body-tertiary m-1" href="dashboard.html">Event Dashboard</a>
          <a class="nav-link text-body-tertiary m-1" href="booking.html">Ticket Booking</a>
          <div class="collapse navbar-collapse" id="navbarNavDarkDropdown">
              <ul class="navbar-nav">
                <li class="nav-item dropdown">
                <button class="nav-link text-body-tertiary m-1 dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">My Account</button>
                <ul class="dropdown-menu dropdown-menu-dark">
                  <li><a class="dropdown-item" href="index.html">User Profile</a></li>
                  <li><input class="p-5 m-1 btn btn-secondary" type="button" value="Logout" id="logoutButton" onclick="logout()" /></li>
                </ul>
              </li>
            </ul>
          </div>
          <a class="nav-link active text-primary m-1 " aria-current="page" href="eventManagement.html"
            >Event Management</a>
          <a
            class="nav-link text-body-tertiary m-1 seatManagement"
            id="seatManagement"
            href="seatManagement.html"
            >Seat Management</a>
        </div>
      </div>
        </div>
    </nav>

    <main>
        <section>
            
          <form method="POST" id="order">


          <div class="form-group p-4 m-4" > 
            <label for="userIdInput" class="form-label">Event:</label>
            <input type="text" class="form-control" id="eventIdInput" placeholder="e.g. TW Limited Express 105">
          </div>

          <div class="form-group p-4 m-4" > 
            <label for="pwInput" class="form-label">Location:</label>
            <input type="text" class="form-control" id="locInput" placeholder="e.g. Keelung → Pingtung">
          </div>
          
          <div class="form-group p-4 m-4" > 
            <label for="pwInput" class="form-label">Time:</label>
            <input type="text" class="form-control" id="timeInput" placeholder="e.g. 06:12 → 12:33">
          </div>

          <div class="form-group p-4 m-4" > 
            <label for="emailInput" class="form-label">Price:</label>
            <input type="text" class="form-control" id="priceInput" placeholder="e.g. 80">
            </div>
          </div>


          <div class="form-group m-4 p-4"> 
            <input class="btn btn-success " type="submit" value="Create Event" id="createEvent" onclick="CREATE_EVENT(event)">
            </div>  

          <div class="p-4 m-4"></div>

          </div>

          </form>

          <footer class="page-footer fixed-bottom">
                <div class="text-bg-dark p-3 text-center fs-6">
                  © 21034774d Chan Hou Ting Constant & 21088966d Cheung Kwan Yui - EIE4432 Group Project
                </div>
          </footer>
            
        </section>
    </main>

</body>
</html>